# NSE Options Paper Trading - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# ZERODHA KITE CONNECT CREDENTIALS (REQUIRED)
# ============================================================================

# Your Kite Connect API key (from developer console)
KITE_API_KEY=your_api_key_here

# Your Kite Connect API secret
KITE_API_SECRET=your_api_secret_here

# Access token (generated after login, valid for 1 day)
# You need to regenerate this daily using the login flow
KITE_ACCESS_TOKEN=your_access_token_here

# Your Zerodha user ID (client ID)
KITE_USER_ID=your_user_id_here

# ============================================================================
# TRADING CONFIGURATION
# ============================================================================

# Underlyings to trade (comma-separated)
# Options: NIFTY, BANKNIFTY, FINNIFTY
TRADING_UNDERLYINGS=NIFTY,BANKNIFTY

# Number of strikes to subscribe around ATM
TRADING_STRIKES_AROUND_ATM=10

# Number of expiry weeks to load
TRADING_EXPIRY_WEEKS=2

# Trading hours (IST, 24-hour format)
TRADING_START_TIME=09:15
TRADING_END_TIME=15:30

# ============================================================================
# EXECUTION SIMULATION
# ============================================================================

# Latency range (milliseconds)
EXECUTION_LATENCY_MIN_MS=100
EXECUTION_LATENCY_MAX_MS=500

# Base slippage (rupees per contract)
EXECUTION_BASE_SLIPPAGE=0.05

# Slippage multipliers
EXECUTION_VELOCITY_SLIPPAGE_MULTIPLIER=0.01
EXECUTION_IV_SLIPPAGE_MULTIPLIER=0.02
EXECUTION_SIZE_SLIPPAGE_MULTIPLIER=0.10
EXECUTION_DEPTH_SLIPPAGE_MULTIPLIER=0.50

# ============================================================================
# RISK MANAGEMENT
# ============================================================================

# Starting capital (rupees)
RISK_INITIAL_CAPITAL=500000

# Maximum daily loss (absolute, rupees)
RISK_MAX_DAILY_LOSS=50000

# Maximum daily loss (percentage of capital, e.g., 0.05 = 5%)
RISK_MAX_DAILY_LOSS_PCT=0.05

# Margin breach threshold (e.g., 0.90 = 90% utilized)
RISK_MARGIN_BREACH_THRESHOLD=0.90

# Force exit all positions on breach
RISK_FORCE_EXIT_ON_BREACH=true

# Margin multiplier on expiry day
RISK_EXPIRY_DAY_MARGIN_MULTIPLIER=1.5

# ============================================================================
# DATABASE
# ============================================================================

# SQLite database path
DATABASE_PATH=./data/paper-trading.db

# Enable automatic backups
DATABASE_BACKUP_ENABLED=true

# Backup interval (minutes)
DATABASE_BACKUP_INTERVAL_MINUTES=60

# ============================================================================
# WEBHOOK SERVER (for TradingView alerts)
# ============================================================================

# Enable webhook server
WEBHOOK_ENABLED=false

# Webhook port
WEBHOOK_PORT=3000

# Secret for webhook authentication
WEBHOOK_SECRET=your_webhook_secret_here

# Allowed IP addresses (comma-separated, empty = allow all)
WEBHOOK_ALLOWED_IPS=

# ============================================================================
# LOGGING
# ============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# ============================================================================
# OTHER
# ============================================================================

# Config file path (optional, overrides some settings)
CONFIG_PATH=./config/default.json

# ============================================================================
# TELEGRAM BOT (for remote control)
# ============================================================================

# Telegram Bot Token (from @BotFather)
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Your Telegram User ID (get from @userinfobot)
# Only this user can control the bot
TELEGRAM_CHAT_ID=your_telegram_user_id_here
